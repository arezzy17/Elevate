<div style="padding: 50px;">
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-4">Welcome to TD Spark</h1>
      <p class="lead">Give back to the world, 2% at a time.</p>
    </div>
  </div>
  <div class="card">
    <div class="card-header">
      Balance
    </div>
    <div class="card-body">
      <table class="table">
        <tr>
          <th scope="row">TD Spark Balance</th>
          <td>{{cashBackBalance|currency}}</td>
          <td class="kiva-btn"  [hidden] = "loadingBalance"><button (click) = "transferBalance()" class="btn btn-success" data-toggle="modal" data-target="#exampleModalCenter">Transfer To Kiva </button></td>
          <td class="kiva-btn" [hidden] = "!loadingBalance"><button class="btn btn-success">Transfer To Kiva 
              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              <span class="sr-only">Loading...</span>
          </button></td>
        
        </tr>
        <tr>
          <th scope="row">Kiva Balance</th>
          <td>{{kivaBalance|currency}}</td>
        </tr>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      Current Projects
    </div>
    <div class="card-body">
      <div class="row">
        <div *ngFor="let loan of loans">
          <table class="table table-borderless">
            <th scope="row">
              <div class="card">
                <img class="card-img-top" src="https://www.kiva.org/img/h200w200/{{loan.image.id}}.jpg"
                    alt="Picture of past Kiva Recipient" height="175" width="200">
                <div class="card-body d-flex flex-column">
                  <p class="card-text text-center mt-auto"><a id="labell" href="https://www.kiva.org/lend/{{loan.id}}"
                      target="_blank">{{loan.name}}</a>
                  </p>
                </div>
              </div>
            </th>
          </table>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        Past Projects
      </div>
      <div class="card-body">
        <div class="row">
          <div *ngFor="let loan of opportunities">
            <table class="table table-borderless">
              <th scope="row">
                <div class="card">
                  <img class="card-img-top" src="https://www.kiva.org/img/h200w200/{{loan.image.id}}.jpg"
                    height="150" width="100"alt="Picture of past Kiva Recipient">
                  <div class="card-body d-flex flex-column">
                    <p class="card-text text-center mt-auto"><a id="labell" href="https://www.kiva.org/lend/{{loan.id}}"
                        target="_blank">{{loan.name}}</a>
                    </p>
                  </div>
                </div>
              </th>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div [hidden] ="hideModal" class="modal fade" id="exampleModalCenter" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalCenterTitle">Transferred Successfully</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          You have desposited {{kivaBalance|currency}} into your Kiva Account!
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>